# Claude Mastery Project Configuration
# =====================================
# Define reusable profiles for /new-project
#
# Usage:
#   /new-project my-app clean            → Claude infrastructure only, zero coding opinions
#   /new-project my-app default          → creates at ~/projects/my-app with full opinionated stack
#   /new-project my-app api              → creates at ~/projects/my-app with API profile
#   /new-project ./custom/path my-app    → explicit path overrides root_dir
#   /new-project my-app default vercel   → profile + override
#
# Global settings:
#   root_dir:        Default parent directory for new projects
#                    If just a project name is given (no path), it creates at root_dir/<name>
#                    Override by passing an explicit path (./foo, ~/bar, /abs/path)
#   auto_branch:     Auto-create feature branches when commands detect you're on main (default: true)
#                    Set to false if you prefer manual branch management
#   sanitize:        Auto-sanitize all MongoDB query inputs against NoSQL injection (default: true)
#                    Set to false if you handle sanitization yourself or don't use MongoDB
#
# Profile values:
#   type:            webapp | api | fullstack | cli
#   framework:       vite | next | astro | fastify | express | hono
#   hosting:         dokploy | vercel | static
#   package_manager: pnpm | npm | bun
#   database:        mongo | postgres | sqlite | none
#   analytics:       rybbit | none
#   options:         seo, ssr, tailwind, prisma, docker, ci, multiregion
#   mcp:             playwright, context7, rulecatch
#   npm:             additional npm packages to install (comma-separated)
#
# Customize these profiles to match YOUR preferred stack.
# Global fallback: ~/.claude/claude-mastery-project.conf

[global]
root_dir = ~/projects
auto_branch = true    # Auto-create feature branches when on main (set false to disable)
sanitize = true       # Auto-sanitize all MongoDB query inputs against NoSQL injection (set false to disable)

[clean]
# All Claude Code infrastructure, zero coding opinions.
# You get: .claude/ (commands, skills, agents, hooks), project-docs templates,
#           CLAUDE.md (security rules only), .env pattern, .gitignore, tests/ templates.
# You DON'T get: TypeScript enforcement, port assignments, database wrapper,
#                testing frameworks, quality gates, API versioning, SEO rules.
# Your project, your rules. Claude just works.
opinionated = false

[default]
type = fullstack
framework = next
hosting = dokploy
package_manager = pnpm
database = mongo
analytics = rybbit
options = seo, tailwind, docker, ci
mcp = playwright, context7, rulecatch
npm = @rulecatch/ai-pooler

[api]
type = api
framework = fastify
hosting = dokploy
package_manager = pnpm
database = mongo
analytics = none
options = docker, ci
mcp = context7, rulecatch
npm = @rulecatch/ai-pooler

[static-site]
type = webapp
framework = astro
hosting = static
package_manager = pnpm
database = none
analytics = rybbit
options = seo, tailwind
mcp = context7

[quick]
type = webapp
framework = vite
hosting = vercel
package_manager = pnpm
database = none
analytics = none
options = tailwind
mcp = context7

[enterprise]
type = fullstack
framework = next
hosting = dokploy
package_manager = pnpm
database = mongo
analytics = rybbit
options = seo, ssr, tailwind, prisma, docker, ci, multiregion
mcp = playwright, context7, rulecatch
npm = @rulecatch/ai-pooler
