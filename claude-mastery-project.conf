# Claude Mastery Project Configuration
# =====================================
# Define reusable profiles for /new-project
#
# Usage:
#   /new-project my-app clean            → Claude infrastructure only, zero coding opinions
#   /new-project my-app default          → creates at ~/projects/my-app with full opinionated stack
#   /new-project my-app api              → creates at ~/projects/my-app with API profile
#   /new-project ./custom/path my-app    → explicit path overrides root_dir
#   /new-project my-app default vercel   → profile + override
#
# Global settings:
#   root_dir:        Default parent directory for new projects
#                    If just a project name is given (no path), it creates at root_dir/<name>
#                    Override by passing an explicit path (./foo, ~/bar, /abs/path)
#   default_profile: Profile to use when no profile is specified in /new-project arguments
#                    e.g. default_profile = clean  → /new-project my-app uses [clean] automatically
#                    If not set, /new-project asks the user for all choices
#   auto_branch:     Auto-create feature branches when commands detect you're on main (default: true)
#                    Set to false if you prefer manual branch management
#   sanitize:        Auto-sanitize all MongoDB query inputs against NoSQL injection (default: true)
#                    Set to false if you handle sanitization yourself or don't use MongoDB
#   docker_test_before_push:
#                    When true, BLOCK any docker push until the image is built, run locally,
#                    and verified to start without error (exit code 0, health check passes).
#                    Default: false. Enable for production projects to prevent broken deploys.
#
# Profile values:
#   type:            webapp | api | fullstack | cli
#   language:        node | go | python (default: node)
#   framework:
#     Node.js frontend: vite | react | vue | svelte | sveltekit | angular | nuxt | next | astro
#     Node.js backend:  fastify | express | hono
#     Go:               gin | chi | echo | fiber | stdlib
#     Python:           fastapi | django | flask
#   hosting:         dokploy | vercel | static
#   package_manager: pnpm | npm | bun | gomod | pip | uv | poetry
#   database:        mongo | postgres | mysql | mssql | sqlite | none
#   analytics:       rybbit | none
#   options:         seo, ssr, tailwind, prisma, docker, ci, multiregion
#   mcp:             playwright, context7, rulecatch, classmcp
#   npm:             additional npm packages (e.g., @rulecatch/ai-pooler, classpresso)
#
# Customize these profiles to match YOUR preferred stack.
# Global fallback: ~/.claude/claude-mastery-project.conf

[global]
root_dir = ~/projects
auto_branch = true    # Auto-create feature branches when on main (set false to disable)
sanitize = true       # Auto-sanitize all MongoDB query inputs against NoSQL injection (set false to disable)
docker_test_before_push = false  # When true, must build + run + health-check locally before pushing to Docker Hub

[clean]
# All Claude Code infrastructure, zero coding opinions.
# You get: .claude/ (commands, skills, agents, hooks), project-docs templates,
#           CLAUDE.md (security rules only), .env pattern, .gitignore, tests/ templates.
# You DON'T get: TypeScript enforcement, port assignments, database wrapper,
#                testing frameworks, quality gates, API versioning, SEO rules.
# Your project, your rules. Claude just works.
opinionated = false

[default]
type = fullstack
framework = next
hosting = dokploy
package_manager = pnpm
database = mongo
analytics = rybbit
options = seo, tailwind, docker, ci
mcp = playwright, context7, rulecatch, classmcp
npm = @rulecatch/ai-pooler, classpresso

[api]
type = api
framework = fastify
hosting = dokploy
package_manager = pnpm
database = mongo
analytics = none
options = docker, ci
mcp = context7, rulecatch
npm = @rulecatch/ai-pooler

[static-site]
type = webapp
framework = astro
hosting = static
package_manager = pnpm
database = none
analytics = rybbit
options = seo, tailwind
mcp = context7, classmcp
npm = classpresso

[quick]
type = webapp
framework = vite
hosting = vercel
package_manager = pnpm
database = none
analytics = none
options = tailwind
mcp = context7, classmcp
npm = classpresso

[enterprise]
type = fullstack
framework = next
hosting = dokploy
package_manager = pnpm
database = mongo
analytics = rybbit
options = seo, ssr, tailwind, prisma, docker, ci, multiregion
mcp = playwright, context7, rulecatch, classmcp
npm = @rulecatch/ai-pooler, classpresso

[go]
language = go
type = api
framework = gin
hosting = dokploy
package_manager = gomod
database = mongo
analytics = none
options = docker, ci
mcp = context7, rulecatch

[vue]
language = node
type = webapp
framework = vue
hosting = vercel
package_manager = pnpm
database = none
analytics = rybbit
options = tailwind
mcp = playwright, context7, classmcp
npm = classpresso

[nuxt]
language = node
type = fullstack
framework = nuxt
hosting = dokploy
package_manager = pnpm
database = mongo
analytics = rybbit
options = seo, tailwind, docker, ci
mcp = playwright, context7, rulecatch, classmcp
npm = classpresso

[svelte]
language = node
type = webapp
framework = svelte
hosting = vercel
package_manager = pnpm
database = none
analytics = rybbit
options = tailwind
mcp = playwright, context7, classmcp
npm = classpresso

[sveltekit]
language = node
type = fullstack
framework = sveltekit
hosting = dokploy
package_manager = pnpm
database = mongo
analytics = rybbit
options = seo, tailwind, docker, ci
mcp = playwright, context7, rulecatch, classmcp
npm = classpresso

[angular]
language = node
type = webapp
framework = angular
hosting = vercel
package_manager = npm
database = none
analytics = rybbit
options = tailwind
mcp = playwright, context7, classmcp
npm = classpresso

[python-api]
language = python
type = api
framework = fastapi
hosting = dokploy
package_manager = pip
database = postgres
analytics = none
options = docker, ci
mcp = context7, rulecatch

[django]
language = python
type = fullstack
framework = django
hosting = dokploy
package_manager = pip
database = postgres
analytics = rybbit
options = docker, ci
mcp = context7, rulecatch, classmcp

[flask]
language = python
type = api
framework = flask
hosting = dokploy
package_manager = pip
database = postgres
analytics = none
options = docker, ci
mcp = context7
